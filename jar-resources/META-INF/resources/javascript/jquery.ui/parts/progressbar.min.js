
/*!
 * jQuery UI Progressbar @VERSION
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./core","./widget"],a)}else{a(jQuery)}}(function(a){return a.widget("ui.progressbar",{version:"@VERSION",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=a("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(b){if(b===undefined){return this.options.value}this.options.value=this._constrainedValue(b);this._refreshValue()},_constrainedValue:function(b){if(b===undefined){b=this.options.value}this.indeterminate=b===false;if(typeof b!=="number"){b=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,b))},_setOptions:function(b){var c=b.value;delete b.value;this._super(b);this.options.value=this._constrainedValue(c);this._refreshValue()},_setOption:function(b,c){if(b==="max"){c=Math.max(this.min,c)}if(b==="disabled"){this.element.attr("aria-disabled",c);this._toggleClass(null,"ui-state-disabled",!!c)}this._super(b,c)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var c=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||c>this.min).width(b.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,c===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=a("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay")}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":c});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==c){this.oldValue=c;this._trigger("change")}if(c===this.options.max){this._trigger("complete")}}})}));